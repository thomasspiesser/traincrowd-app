<template name="coursePreview">
  <div class="all-courses-wrapper">

    <div class="row">

      <div class="col-md-3 col-preview-image">
        <a href="{{ pathFor 'course.show' slug=this.slug }}" class="course-preview-image" style="background-image: url( {{#if imageId}} '{{imageId}}' {{else}} {{#if trainerImageId owner}} {{#with trainerImageId owner}} {{this}} {{/with}} {{else}} '/dummyUser.jpg' {{/if}} {{/if}} );"></a>
      </div>

      <div class="col-md-9">
        <div class="course-preview-content">

          <a href="{{ pathFor route='course.show' slug=this.slug }}"><h4 class="course-title-preview">{{titlePreview}}</h4></a>

          <div class="row">
            <div class="col-md-8 col-preview-content-left">
              <a href="{{ pathFor 'trainerProfile.show' _id=this.owner }}">{{ownerName}}</a>
              <p class="course-description-preview">{{descriptionPreview}}</p>
            </div>
            <div class="col-md-4 col-preview-content-right">
              <div class="course-preview-item-list"><i class="fa fa-money"></i> <div class="pull-right">{{feePP}} <i class="fa fa-euro"></i> </div></div>

              <div class="course-preview-item-list"> <i class="fa fa-thumbs-up"></i> <div class="rateit course-preview-rateit pull-right" data-rateit-value="{{rating}}" data-rateit-ispreset="true" data-rateit-readonly="true"></div></div>

              <div class="course-preview-item-list"><i class="fa fa-calendar"></i> <div class="pull-right">{{nextEvent}}</div>  </div>

              <div class="course-preview-item-list"><i class="fa fa-location-arrow"></i> <div class="pull-right">Berlin</div>  </div>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</template>

<!--  /////////////////////////////////////////////////// --> 

<template name="courseDetail">
 {{> paymentModal}}
  <div class="container">
    {{#if canEdit owner}}
    <div class="row" id="editProfile">

      <div class="well well-sm">
        
        {{#unless isPublic}}
          <button type="button" class="btn btn-default btn-sm pull-right top-menu-btn" id="requestPublicCourseButton"> <span class="fa fa-globe"></span> Freigeben</button>
        {{/unless}}
        {{#if canEdit owner}}
          <button type="button" class="btn btn-default btn-sm pull-right top-menu-btn" id="editCourseButton"> <span class="fa fa-pencil"></span> Bearbeiten</button>
        {{/if}}
      </div>

    </div>
    {{/if}}

    <div class="row">

      <div class="col-md-2 course-detail-left">
        <div class="course-detail-head-image" style="background-image: url( {{#if imageId}} '{{imageId}}' {{else}} {{#if trainerImageId owner}} {{#with trainerImageId owner}} {{this}} {{/with}} {{else}} '/dummyUser.jpg' {{/if}} {{/if}} );"></div>

        <div class="course-detail-body-location-wrapper">
          <div id="location">
            <strong>Ort</strong>
            {{#if noLocation}}
              <p>steht noch nicht fest</p>
            {{else}}
              <p> {{street}} {{streetNumber}} <br>
              {{#if streetAdditional}} {{streetAdditional}} <br> {{/if}}
              {{plz}} {{city}} </p>
              <a href="https://www.google.de/maps/place/{{street}}+{{streetNumber}},{{plz}}" target="_blank"><img src="http://maps.googleapis.com/maps/api/staticmap?markers={{street}},{{plz}}&zoom=14&size=200x200&sensor=false" alt="" style="width: 100%;"></a>
            {{/if}}
          </div>
        </div>
      </div>

      <div class="col-md-6 course-detail-right">
        <div class="course-detail-head-text-wrapper">
          <p><a href="{{ pathFor 'trainerProfile.show' _id = owner }}">{{ownerName}}</a></p>
          <h3 class="course-title-detail">{{title}}</h3>
          <p class="course-detail-head-categories">
            {{#each categories}}
              <span class="label label-default tags">{{this}}</span> 
            {{/each}}
          </p>
          <p><span class="rateit" data-rateit-value="{{rating}}" data-rateit-ispreset="true" data-rateit-readonly="true"></span></p>
        </div>

        <div class="course-detail-body-text-wrapper">
          <p><strong>Beschreibung</strong> <br>
            <div class="contain-format">{{description}}</div>
          </p>
          <p><strong>Kursziele</strong> <br> {{aims}}</p>
          <p><strong>Lernformen, Methodik und Didaktik</strong> <br> {{methods}}</p>
          <p><strong>Zielgruppe</strong> <br> {{targetGroup}}</p>
          <p><strong>Vorraussetzungen</strong> <br> {{prerequisites}}</p>
          <p><strong>Sprachen</strong> <br> {{languages}}</p>
          <p><strong>zus채tzliche Leistungen</strong> <br> {{additionalServices}}</p>
        </div>
      </div>
              
      <div class="col-md-4 course-detail-event-panel">
        <!-- <button type="button" class="btn btn-danger" id="inquireCourseDatesButton">Inquire dates</button> -->
        <div class="row">
          <div class="col-xs-6">
            <span data-toggle="tooltip" title="Kursdauer">
            <i class="fa fa-clock-o" ></i>
              {{duration}} Kurstage
            </span>
          </div>
          <div class="col-xs-6">
            <span class="pull-right" data-toggle="tooltip" title="Anzahl Kurspl채tze">
            <i class="fa fa-users" ></i>
            {{maxParticipants}} Pl채tze
            </span>
          </div>
        </div>
        
        <hr>
        
        <div class="row">
          <div class="col-xs-6">
            <span data-toggle="tooltip" title="Kurspreis pro Person">
            <i class="fa fa-euro" ></i>
            {{feePP}} pP
            </span>
          </div>
          <div class="col-xs-6">
            <span class="pull-right" data-toggle="tooltip" title="">
            
            </span>
          </div>
        </div>
        
        <hr>
        
        Event ausw채hlen:
        {{#each getCurrent}}
          <div class="row single-event">

            <div class="col-md-8 single-event-left">
              <div class="single-event-item-list">
                <i class="fa fa-calendar fa-fw"></i> Daten:<span class="pull-right">{{courseDateRange}}</span>
              </div>
              {{#if bookedOut ..}}
                <div class="progress">
                  <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                    Ausgebucht
                  </div>
                </div>
<!--                     <div class="single-event-item-list">
                  <i class="fa fa-users fa-fw"></i> Status:<div class="pull-right">Ausgebucht</div>
                </div> -->
              {{else}}
                <div class="progress">
                <span class="pull-right openSpots">noch {{openSpots ..}} frei</span>
                  <span class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar" aria-valuenow="{{percentFull ..}}" aria-valuemin="0" aria-valuemax="100" style="width: {{percentFull ..}}%; min-width: 0.2em;">
                    <!-- {{percentFull ..}}% -->
                  </span>
                </div>
              {{/if}}
              <div class="single-event-item-list">
                <i class="fa fa-clock-o fa-fw"></i> Laufzeit:<span class="pull-right">noch {{runtime ..}} Tage</span>
              </div>
            </div>

            <div class="col-md-4 single-event-right">
              {{#if bookedOut ..}}
                
              {{else}}
                <!-- <a href="{{#if currentUser}}#{{else}}{{pathFor 'atSignIn'}}{{/if}}" type="button" class="btn btn-default btn-block btn-xs joinCourseButton"> -->
                <a href="#" type="button" class="btn btn-default btn-block btn-xs joinCourseButton">
                  Jetzt Buchen
                </a>
              {{/if}}
            </div>
          </div>
        {{/each}}
      </div>
    </div>
  </div>
</template>

