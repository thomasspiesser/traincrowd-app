<template name="navBar">
    <div class="navbar navbar-inverse navbar-fixed-top nav-down" role="navigation">

        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/"><img src="/logo-letters-beta.svg" class="nav-img-logo" /></a>

        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            {{> navItemsLeft}}
          </ul>
          <ul class="nav navbar-nav navbar-right">
            {{> navItemsRight}}
          </ul>
        </div>

    </div>
</template>

<!--  /////////////////////////////////////////////////// -->

<template name='navItemsLeft'>
  <li><a href="{{pathFor 'search.course'}}">Top Kurse</a></li>
  <li><a href="{{pathFor 'search.trainer'}}">Die Trainer</a></li>
  <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Über uns</a>
    <ul class="dropdown-menu" role="menu">
      <li><a href="{{ pathFor 'about.traincrowd' }}">Über traincrowd</a></li>
      <li><a href="{{ pathFor 'about.us' }}">Das Team</a></li>
    </ul>
  </li>
  <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">{{ langCode }} <span class="caret"></span></a>
    <ul class="dropdown-menu" role="menu">
      <li><a href="#" class="langSelector">de</a></li>
      <li><a href="#" class="langSelector">en</a></li>
    </ul>
  </li>
</template>

<!--  /////////////////////////////////////////////////// -->

<template name='navItemsRight'>
  {{#unless isInRole 'trainer'}}
    <li><a href="{{ pathFor 'becomeTrainerLanding' }}">Trainer werden</a></li>
  {{/unless}}
  {{#if currentUser}}
    <li>
      <div class="custom-nav-item" style="padding-left:15px;">
      {{#if currentUser.profile.imageId}}
        <img class="img-rounded" src="{{currentUser.profile.imageId}}" alt="{{username currentUser._id}}" style="height:50px;">
      {{else}}
        <img class="img-rounded" src="/dummyUser.jpg" alt="" style="height:50px">
      {{/if}}
      </div>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" style="padding-left:10px;">{{username currentUser._id}} <span class="caret"></span></a>
      <ul class="dropdown-menu" role="menu">
        {{#if isInRole 'trainer'}}
          <li><a href="{{ pathFor 'trainerProfile.show' data=currentUser }}">Mein Profil</a></li>
          <li><a href="{{ pathFor 'edit.trainer' }}">Mein Profil bearbeiten</a></li>
        {{else}}
          <li><a href="{{ pathFor 'edit.user' }}">Mein Profil</a></li>
        {{/if}}
        <li class="divider"></li>
        <li><a href="{{pathFor 'user.courses'}}">Meine Kurse</a></li>
        {{#if isInRole 'trainer'}}
          <li><a href="{{ pathFor 'createCourse' }}">Neuen Kurs anlegen</a></li>
        {{/if}}
        <li class="divider"></li>
        <li><a href="#" id="logout">Ausloggen</a></li>
      </ul>
    </li>
  {{else}}
    <li><a class="btn btn-ghost" href="{{pathFor 'atSignIn'}}">Anmelden</a></li>
  {{/if}}
</template>
