<template name="courses">
  <div class="container notHome">
    <div class="row">
        {{#each courses}}
        <div class="col-lg-8 col-lg-offset-2">
          <div class="well all-courses-wrapper">
            {{> coursePreview}}
            <!-- <a href="{{ pathFor route='course.show' data=getPost }}">check me out!</a> -->
          </div>
        </div>
        {{/each}}
    </div>
  </div>
</template>

<!--  /////////////////////////////////////////////////// --> 

<template name="coursePreview">
  <div class="row">
    <div class="col-md-3">
      <div id="logo">
        {{#if logo}}
          <a href="{{ pathFor route='course.show' _id=this._id }}"><img src="{{logo}}" alt="" class="center-block img-thumbnail img-responsive" style="width: 220px;"></a>
          {{else}}
          <a href="{{ pathFor route='course.show' _id=this._id }}"><img src="/iconTeach.png" alt="" class="center-block img-thumbnail img-responsive" style="width: 220px;"></a>
          {{/if}}
        </div>
        <p>{{rating}}</p>
      </div>
    <div class="col-md-9">
      <a href="{{ pathFor route='course.show' _id=this._id }}"><h4>{{title}}</h4></a>
      <p>{{descriptionPreview}}</p>
      <!-- <a href="{{ pathFor 'userProfile.show' _id=this.owner }}">{{ownerName this.owner}}</a> -->
    </div>
  </div>
</template>

<!--  /////////////////////////////////////////////////// --> 

<template name="courseDetail">
 {{> paymentModal }}
  <div class="container notHome">
    <div class="row">
      <div class="col-md-3">
        <div id="logo">
        {{#if logo}}
          <img src="{{logo}}" alt="" class="center-block img-thumbnail img-responsive" style="width: 220px;">
          {{else}}
          <img src="/iconTeach.png" alt="" class="center-block img-thumbnail img-responsive" style="width: 220px;">
          {{/if}}
        </div>
        <div id="trainer" style="text-align: center;">
          <h4>Trainer</h4>
          {{#if trainerProfilePicture owner}}
          <img src="{{trainerProfilePicture owner}}" alt="" class="center-block img-circle img-thumbnail img-responsive" style="width: 160px;">
          {{else}}
          <img src="/dummyUser.jpg" alt="" class="center-block img-circle img-thumbnail img-responsive" style="width: 160px;">
          {{/if}}
          <a href="{{ pathFor 'userProfile.show' _id = owner }}">{{ownerName owner}}</a>
        </div>
        <div id="location">
          <h4>Veranstalltungsort</h4>
          {{#if noLocation}}
            <p>steht noch nicht fest</p>
          {{else}}
            <p>{{street}}</p>
            <p>{{streetAdditionals}}</p>
            <p>{{streetAdditional}}</p>
            {{plz}}
            Berlin
          {{/if}}
        </div>
      </div>
      <div class="col-md-5" style="width:46%;">
        {{#if canEdit owner}}
          <button type="submit" class="btn btn-primary btn-sm pull-right" id="editCourseButton">Bearbeiten <span class="glyphicon glyphicon-edit"></span></button>
        {{/if}}
        <h3 style="margin-top:0;">{{title}}</h3>
        <p>{{description}}</p>
        <p>{{maxParticipants}}</p>
        <p>{{aims}}</p>
        <p>{{methods}}</p>
        <p>{{targetGroup}}</p>
        <p>{{targetGroup}}</p>
        <p>{{prerequisits}}</p>
        <p>{{languages}}</p>
        <p>{{duration}}</p>
        <p>{{additionalServices}}</p>
        
        <p>{{rating}}</p>

<!--         {{#if canEdit course.owner}}
          <div>Course inquiries (course owner only)</div>
          <hr>
          {{#each inquired}}
            <form class="form-inline" role="form">
              {{#each inquiredDates}}
                <label class="radio-inline">
                  <input type="radio" name="{{../_id}}" value="{{this}}"> {{this}}
                </label>
              {{/each}}
              <button type="button" class="btn btn-success confirmDateButton">Confirm</button>
              <button type="button" class="btn btn-danger declineDateButton">Decline</button>
            </form>
            <hr>
          {{/each}}
        {{/if}} -->
      </div>
              
      <div class="col-md-3" style="margin-left:15px; box-shadow: 0px 0px 10px #888;">
        <div class="affix">
          <!-- <button type="button" class="btn btn-danger" id="inquireCourseDatesButton">Inquire dates</button> -->
          <h4 style="text-align: center;">Jetzt Kurs buchen:</h4>
          <div class="row">
            <div class="col-xs-6">
              <span data-toggle="tooltip" title="Kursdauer">
              <i class="glyphicon glyphicon-time" ></i>
                {{duration}} Tage
              </span>
            </div>
            <div class="col-xs-6">
              <span class="pull-right" data-toggle="tooltip" title="Anzahl Kursplätze">
              <i class="glyphicon glyphicon-user" ></i>
              {{minParticipants}}-{{maxParticipants}} Plätze
              </span>
            </div>
          </div>
          
          <hr>
          
          <div class="row">
            <div class="col-xs-12">
              <span data-toggle="tooltip" title="Kurspreis pro Person">
              <i class="glyphicon glyphicon-euro" ></i>
              {{feePP}} pP
              </span>
            </div>
          </div>
          
          <hr>
          
          Kurs Buchen:
          <div class="list-group">

            {{#each getCurrent}}
              <a href="#" class="joinCourseButton list-group-item {{#if participants}} list-group-item-success {{/if}}">
              <div class="row">
                <div class="col-xs-4">
                  {{courseDate}}
                </div>
                <div class="col-xs-8">
                  {{#if participants}}
                    <div class="progress" style="margin-bottom: 0;">
                      <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar" aria-valuenow="{{percentFull ..}}" aria-valuemin="0" aria-valuemax="100" style="width: {{percentFull ..}}%">
                        {{percentFull ..}} %
                      </div>
                    </div>
                  {{/if}}
                </div>
              </div>
              </a>
            {{/each}}

          </div>

        </div>

      </div>
    </div>
  </div>
</template>

